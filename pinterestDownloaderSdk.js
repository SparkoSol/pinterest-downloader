function initialize(){initializeCssStyleSheet();let k=document.getElementById("downloader"),d=document.createElement("div");d.className="pinterest-wrapper",k.appendChild(d);let g=document.createElement("h1");g.innerText="Pinterest Video Downloader",g.className="pinterest-title",d.appendChild(g);let h=document.createElement("div");h.id="div1";let i=document.createElement("form"),j=document.createElement("div"),e=document.createElement("label");e.className="pinterest-label",e.for="url",e.innerText="Enter your video URL here";let b=document.createElement("input");b.id="url",b.type="text",b.placeholder="Paste here",b.className="pinterest-form-control pinterest-p-3",j.append(e),j.append(b);let f=document.createElement("div");f.className="pinterest-btn-group";let c=document.createElement("button");c.className="pinterest-cancel-btn pinterest-btn",c.type="button",c.innerText="Reset";let a=document.createElement("button");a.id="submit_btn",a.className="pinterest-submit-btn pinterest-btn",a.type="button",a.innerHTML="<span>Download</span>",a.style.display="flex",f.appendChild(c),f.appendChild(a),i.append(j),i.append(f),h.appendChild(i),d.appendChild(h),c.addEventListener("click",function(){document.getElementById("file-details"),document.getElementById("file-details")&&document.getElementById("file-details").remove(),b.value="",a.disabled=!1,a.classList.remove("pinterest-disable"),f.style.marginTop="0px",b.classList.contains("pinterest-invalid")&&(b.classList.remove("pinterest-invalid"),document.getElementById("error").remove()),document.getElementById("loader")&&document.getElementById("loader").remove()}),a.addEventListener("click",async function(){let e=!1,g="";if(document.getElementById("file-details")&&document.getElementById("file-details").remove(),document.getElementById("error")&&(document.getElementById("error").remove(),a.disabled=!1,a.classList.remove("pinterest-disable"),b.classList.remove("pinterest-invalid")),""!==b.value||b.value){if(b.value.includes("/pin")){if(b.classList.contains("pinterest-invalid")){e=!0,g="Video Url is required, please fill it!";return}}else e=!0,g="Please use a valid pinterest video url!"}else e=!0,g="Video Url is required, please fill it!";if(e){b.classList.add("pinterest-invalid");let d=document.createElement("span");d.innerText=g,d.id="error",d.style.color="red",d.style.marginBottom="10px",j.appendChild(d),f.style.marginTop="10px";return}let h=document.createElement("span");h.id="loader",h.className="pinterest-loader",h.style.marginLeft="10px",a.appendChild(h),a.firstChild.innerText="Downloading",a.disabled=!0,a.classList.add("pinterest-disable"),c.disabled=!0,c.classList.add("pinterest-disable"),await fetch("https://api.sparkolinks.com/pinterest",{method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({url:b.value})}).then(async d=>{if(200!==d.status){let e=await d.json(),c=document.createElement("span");return c.id="error",c.style.color="red",c.style.marginBottom="10px",c.innerText=e.message,b.classList.add("pinterest-invalid"),j.appendChild(c),a.disabled=!0,a.classList.add("pinterest-disable"),f.style.marginTop="10px",null}return d.json()}).then(a=>{a&&generateDownloadContainer(a)}).catch(a=>{console.error("Error:",a)}).finally(()=>{h.remove(),a.firstChild.innerText="Download",a.disabled=!1,a.classList.remove("pinterest-disable"),c.disabled=!1,c.classList.remove("pinterest-disable")})}),getUrlParams()}function generateDownloadContainer(d){document.getElementById("file-details")&&document.getElementById("file-details").remove();let c=document.createElement("div");c.className="pinterest-file-preview",c.id="file-details";let h=document.createElement("div"),b=document.createElement("img");b.src=d.thumbnail,b.className="pinterest-img-thumbnail",b.width=d.width,b.height=d.height,b.alt="thumbnail",h.appendChild(b),c.appendChild(h);let e=document.createElement("div");e.className="pinterest-file-details";let f=document.createElement("p");f.className="pinterest-label",f.innerText=d.url.replace(/^.*[\\\/]/,""),e.appendChild(f);let g=document.createElement("div");g.className="pinterest-download-preview";let a=document.createElement("button");a.id="download_btn",a.type="button",a.className="pinterest-download-btn pinterest-btn",a.innerHTML='<span id="download-btn-id">Download Now</span>',a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",g.appendChild(a),submit_btn.disabled=!1,submit_btn.classList.remove("pinterest-disable"),e.appendChild(g),c.appendChild(e),div1.appendChild(c),a.addEventListener("click",async c=>{c.preventDefault(),document.getElementById("download-btn-id").innerText="Downloading",a.disabled=!0;let b=document.createElement("span");b.id="download_loader",b.className="pinterest-loader",b.style.marginLeft="10px",a.appendChild(b),a.disabled=!0,a.classList.add("pinterest-disable");let e="https://api.sparkolinks.com/pinterest/redirects/getVideo?url="+d.url;await fetch(e,{redirect:"follow",method:"GET"}).then(a=>a.blob()).then(d=>{let c=URL.createObjectURL(d),b=document.createElement("a");b.href=c,b.download=e.replace(/^.*[\\\/]/,""),document.body.appendChild(b),b.click(),a.innerText="Download Now",URL.revokeObjectURL(c),b.remove()}).catch(b=>{console.log(b),a.innerText="Download Now"}).finally(()=>{a.innerHTML='<span id="download-btn-id">Download Now</span>',b.remove(),a.disabled=!1,a.classList.remove("pinterest-disable")})})}function getUrlParams(){let b=document.getElementById("url"),a=new URLSearchParams(window.location.search);a.has("videoUrl")&&(b.value=a.get("videoUrl"))}function initializeCssStyleSheet(){let b=document.getElementsByTagName("head")[0],a=document.createElement("style");a.innerText="#downloader {\n    margin: 0 auto;\n    min-width: 350px !important;\n    max-width: 800px !important;\n}\n\n#downloader * {\n    /*border: 1px solid green;*/\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n}\n\n.pinterest-title {\n    color: #CB2027 !important;\n    font-weight: 700 !important;\n    margin-bottom: 0.5rem !important;\n    margin-top: 0.5rem !important;\n    font-size: 2.5rem !important;\n}\n\n.pinterest-wrapper {\n    width: 100% !important;\n    padding: 0 15px !important;\n    margin: 1.5rem auto !important;\n}\n\n.pinterest-label {\n    word-wrap: break-word !important;\n    padding: 0.5rem !important;\n    font-weight: 700 !important;\n    text-align: left !important;\n    display: block !important;\n    margin-bottom: 0.5rem !important;\n}\n\n.pinterest-form-control {\n    display: block !important;\n    width: 100% !important;\n    font-size: 1rem !important;\n    line-height: 1.5 !important;\n    color: #495057 !important;\n    background-color: #fff !important;\n    background-clip: padding-box !important;\n    border: 1px solid #ced4da !important;\n    border-radius: 0.25rem !important;\n    transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out !important;\n    padding: 12px 20px !important;\n    margin: 8px 0 !important;\n    box-sizing: border-box !important;\n}\n\n.pinterest-btn-group {\n    display: flex !important;\n    justify-content: flex-start !important;\n    gap: 15px !important;\n}\n\n.pinterest-cancel-btn {\n    color: #fff !important;\n    background-color: #dc3545 !important;\n    border-color: #dc3545 !important;\n}\n\n.pinterest-submit-btn {\n    color: #fff !important;\n    background-color: #6ec823 !important;\n    border-color: #6ec823 !important;\n}\n\n.pinterest-btn {\n    cursor: pointer !important;\n    display: inline-block;\n    font-weight: 400 !important;\n    text-align: center !important;\n    white-space: nowrap !important;\n    vertical-align: middle !important;\n    -webkit-user-select: none !important;\n    -moz-user-select: none !important;\n    -ms-user-select: none !important;\n    user-select: none !important;\n    border: 1px solid transparent !important;\n    padding: 0.375rem 0.75rem !important;\n    font-size: 1rem !important;\n    line-height: 1.5 !important;\n    border-radius: 0.25rem !important;\n    transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;\n}\n\n.pinterest-file-preview {\n    margin-top: 2rem !important;\n    display: flex !important;\n    gap: 15px;\n    padding: 0 !important;\n}\n\n.pinterest-mr-4 {\n    margin-right: 1.5rem !important;\n}\n\n.pinterest-img-thumbnail {\n    padding: 0.25rem !important;\n    background-color: #fff !important;\n    border: 1px solid #dee2e6 !important;\n    border-radius: 0.25rem !important;\n    max-width: 100% !important;\n    height: auto !important;\n}\n\n.pinterest-thumbnail {\n    flex: 2;\n}\n\n.pinterest-download-preview {\n    padding: 0.5rem !important;\n    justify-content: space-between !important;\n    display: flex !important;\n}\n\n.pinterest-download-btn {\n    cursor: pointer !important;\n    color: #fff !important;\n    background-color: #6ec823 !important;\n}\n\n.pinterest-file-details {\n    border: 1px solid #dee2e6 !important;\n    padding: 0 5px !important;\n    height: fit-content !important;\n}\n\n.pinterest-invalid {\n    border: 2px dashed red !important;\n}\n\n.pinterest-disable {\n    opacity: 0.45 !important;\n    cursor: not-allowed !important;\n}\n\n.pinterest-loader {\n    border: 2px solid #f3f3f3 !important;\n    border-radius: 50% !important;\n    border-top: 2px solid transparent !important;\n    width: 20px !important;\n    height: 20px !important;\n    -webkit-animation: spin 1s linear infinite;\n    animation: spin 1s linear infinite !important;\n}\n\n@keyframes spin {\n    0% {\n        transform: rotate(0deg);\n    }\n\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n@media only screen and (max-width: 750px) {\n    .pinterest-file-preview {\n        flex-direction: column !important;\n    }\n\n    .pinterest-file-details {\n        width: 100% !important;\n        order: -1;\n    }\n}",b.appendChild(a)}initialize()